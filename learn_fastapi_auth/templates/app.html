{% extends "base.html" %}

{% block title %}App - FastAPI Auth{% endblock %}

{% block content %}
<div class="app-container">
    <div class="app-header">
        <h1>Your Personal Data</h1>
        <p>This is your private space. Only you can see and edit this content.</p>
    </div>

    <div class="data-card">
        <h2>Your Text Data</h2>
        <div class="data-display empty" id="data-display">
            Loading...
        </div>
        <button class="btn btn-primary" id="edit-btn">Edit</button>
    </div>

    <div class="data-card">
        <h2>Account Settings</h2>
        <p>Manage your account security settings.</p>
        <button class="btn btn-secondary" id="change-password-btn">Change Password</button>
    </div>
</div>

<!-- Edit Modal -->
<div class="modal-overlay" id="modal-overlay">
    <div class="modal">
        <h2>Edit Your Data</h2>
        <textarea id="edit-textarea" placeholder="Enter your text here..."></textarea>
        <div class="modal-buttons">
            <button class="btn btn-secondary" id="cancel-btn">Cancel</button>
            <button class="btn btn-primary" id="save-btn">Save</button>
        </div>
    </div>
</div>

<!-- Change Password Modal -->
<div class="modal-overlay" id="password-modal-overlay">
    <div class="modal">
        <h2>Change Password</h2>
        <form id="change-password-form">
            <div class="form-group">
                <label for="current-password">Current Password</label>
                <input type="password" id="current-password" required placeholder="Enter current password">
                <div class="error-message" id="current-password-error"></div>
            </div>
            <div class="form-group">
                <label for="new-password">New Password</label>
                <input type="password" id="new-password" required placeholder="Enter new password">
                <div class="error-message" id="new-password-error"></div>
            </div>
            <div class="form-group">
                <label for="confirm-new-password">Confirm New Password</label>
                <input type="password" id="confirm-new-password" required placeholder="Confirm new password">
                <div class="error-message" id="confirm-new-password-error"></div>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn btn-secondary" id="password-cancel-btn">Cancel</button>
                <button type="submit" class="btn btn-primary" id="password-save-btn">Change Password</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/app.js"></script>
{% endblock %}
